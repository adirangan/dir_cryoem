dir_base = '/data/rangan/dir_cryoem';
dir_pre_ = { ... 
	     ,'dir_ISWINCP_nM0000to0255' ...
	     ,'dir_ISWINCP_nM0000to0511' ...
	     ,'dir_ISWINCP_nM0000to0767' ...
};
dir_pos_ = { ...
	     ,'X_2d_Memp_d1_a1t0122n16r0.mat' ...
	     ,'X_2d_Memp_d1_a1t0122n16r1.mat' ...
	     ,'X_2d_Memp_d1_a1t0122n16r2.mat' ...
	     ,'X_2d_Memp_d1_a1t0122n18r0.mat' ...
	     ,'X_2d_Memp_d1_a1t0122n18r1.mat' ...
	     ,'X_2d_Memp_d1_a1t0122n18r2.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p20r0.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p20r1.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p20r2.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p25r0.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p25r1.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p25r2.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p30r0.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p30r1.mat' ...
	     ,'X_2d_Memp_d1_a1t0122p30r2.mat' ...
	     ,'X_2d_xcor_d0_a1t0122n16r0.mat' ...
	     ,'X_2d_xcor_d0_a1t0122n16r1.mat' ...
	     ,'X_2d_xcor_d0_a1t0122n16r2.mat' ...
	     ,'X_2d_xcor_d0_a1t0122n18r0.mat' ...
	     ,'X_2d_xcor_d0_a1t0122n18r1.mat' ...
	     ,'X_2d_xcor_d0_a1t0122n18r2.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p20r0.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p20r1.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p20r2.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p25r0.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p25r1.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p25r2.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p30r0.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p30r1.mat' ...
	     ,'X_2d_xcor_d0_a1t0122p30r2.mat' ...
};

for nl_pre=0:numel(dir_pre_)-1;
dir_pre = dir_pre_{1+nl_pre};
for nl_pos=0:numel(dir_pos_)-1;
dir_pos = dir_pos_{1+nl_pos};
fname_mat = sprintf('%s/%s/dir_pm_mat/%s',dir_base,dir_pre,dir_pos);
if (~exist(fname_mat,'file'));
disp(sprintf(' %% %s not found',fname_mat));
end;%if (~exist(fname_mat,'file'));
if ( exist(fname_mat,'file'));
disp(sprintf(' %% %s found',fname_mat));
tmp_ = load(fname_mat,'parameter');
flag_fix_dir_pm = ~isempty(strfind(tmp_.parameter.dir_pm,'_x0_'));
flag_fix_fname_pre = ~isempty(strfind(tmp_.parameter.fname_pre,'_x0_'));
if flag_fix_dir_pm | flag_fix_fname_pre ;
disp(sprintf(' %% fix: %s',fname_mat));
%%%%;
tmp_ij = strfind(tmp_.parameter.dir_pm,'_x0_');
if ~isempty(tmp_ij);
tmp_dir_pm = sprintf('%s%s',tmp_.parameter.dir_pm(1:tmp_ij-1),tmp_.parameter.dir_pm(tmp_ij+3:end));
disp(sprintf(' %% %s --> %s',tmp_.parameter.dir_pm,tmp_dir_pm));
tmp_.parameter.dir_pm = tmp_dir_pm;
end;%if ~isempty(tmp_ij);
%%%%;
tmp_ij = strfind(tmp_.parameter.fname_pre,'_x0_');
if ~isempty(tmp_ij);
tmp_fname_pre = sprintf('%s%s',tmp_.parameter.fname_pre(1:tmp_ij-1),tmp_.parameter.fname_pre(tmp_ij+3:end));
disp(sprintf(' %% %s --> %s',tmp_.parameter.fname_pre,tmp_fname_pre));
tmp_.parameter.fname_pre = tmp_fname_pre;
end;%if ~isempty(tmp_ij);
%%%%;
save(fname_mat,'-struct','tmp_','-append');
%%%%;
end;%if flag_fix_dir_pm | flag_fix_fname_pre ;
end;%if ( exist(fname_mat,'file'));
end;%for nl_pos=0:numel(dir_pos_)-1;
end;%for nl_pre=0:numel(dir_pre_)-1;

